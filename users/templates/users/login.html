{% extends 'base.html' %}

{% block title %}
Login - Real Estate App
{% endblock %}

{% block content %}
<div class="container my-5">
    <h1 class="text-center mb-4" style="font-family: 'Montserrat', sans-serif; font-weight: 600;">Login</h1>
    {% if messages %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert" style="font-size: 1rem;">
        <ul class="mb-0">
            {% for message in messages %}
            <li>{{ message }}</li>
            {% endfor %}
        </ul>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    {% endif %}
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-4">
            <form method="post" class="border p-4 rounded shadow-sm"
                style="background-color: #f9f9f9; border-radius: 10px; box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1);">
                {% csrf_token %}

                <!-- Username Input with Icon -->
                <div class="mb-3 input-group">
                    <span class="input-group-text" id="username-icon"><i class="bi bi-person-fill"></i></span>
                    <input type="text" id="username" name="username" class="form-control" required
                        placeholder="Username" aria-describedby="username-icon"
                        style="border: 1px solid #ddd; border-radius: 5px; transition: all 0.3s ease;">
                </div>

                <!-- Password Input with Icon and Toggle -->
                <div class="mb-3 input-group">
                    <span class="input-group-text" id="password-icon"><i class="bi bi-lock-fill"></i></span>
                    <input type="password" id="password" name="password" class="form-control" required
                        placeholder="Password" aria-describedby="password-icon"
                        style="border: 1px solid #ddd; border-radius: 5px; transition: all 0.3s ease;">
                    <span class="input-group-text" id="toggle-password" style="cursor: pointer;">
                        <i class="bi bi-eye-slash" id="eye-icon"></i>
                    </span>
                </div>

                <!-- Login Button with Icon -->
                <button type="submit" class="btn btn-primary w-100"
                    style="background-color: #004d40; border-color: #004d40; border-radius: 5px; transition: background-color 0.3s ease;">
                    <i class="bi bi-box-arrow-in-right"></i> Login
                </button>
            </form>

            <p class="text-center mt-3" style="font-size: 1rem;">Don't have an account? <a href="{% url 'register' %}"
                    style="color: #004d40;">Register here</a>.</p>
        </div>
    </div>
</div>

{% block extra_js %}
<script>
    // Toggle password visibility
    document.getElementById('toggle-password').addEventListener('click', function () {
        var passwordField = document.getElementById('password');
        var eyeIcon = document.getElementById('eye-icon');

        // Toggle the input type between 'password' and 'text'
        if (passwordField.type === 'password') {
            passwordField.type = 'text';
            eyeIcon.classList.remove('bi-eye-slash');
            eyeIcon.classList.add('bi-eye');
        } else {
            passwordField.type = 'password';
            eyeIcon.classList.remove('bi-eye');
            eyeIcon.classList.add('bi-eye-slash');
        }
    });
</script>
{% endblock %}

{% endblock %}